/**
 * FormValidation (http://formvalidation.io)
 * The best jQuery plugin to validate form fields. Support Bootstrap, Foundation, Pure, SemanticUI, UIKit and custom frameworks
 *
 * @author      https://twitter.com/formvalidation
 * @copyright   (c) 2013 - 2015 Nguyen Huu Phuoc
 * @license     http://formvalidation.io/license/
 */
if(window.FormValidation={AddOn:{},Framework:{},I18n:{},Validator:{}},"undefined"==typeof jQuery)throw new Error("FormValidation requires jQuery");!function($){var t=$.fn.jquery.split(" ")[0].split(".");if(+t[0]<2&&+t[1]<9||1===+t[0]&&9===+t[1]&&+t[2]<1)throw new Error("FormValidation requires jQuery version 1.9.1 or higher")}(jQuery),function($){FormValidation.Base=function(t,i,s){this.$form=$(t),this.options=$.extend({},$.fn.formValidation.DEFAULT_OPTIONS,i),this._namespace=s||"fv",this.$invalidFields=$([]),this.$submitButton=null,this.$hiddenButton=null,this.STATUS_NOT_VALIDATED="NOT_VALIDATED",this.STATUS_VALIDATING="VALIDATING",this.STATUS_INVALID="INVALID",this.STATUS_VALID="VALID",this.STATUS_IGNORED="IGNORED",this.DEFAULT_MESSAGE=$.fn.formValidation.DEFAULT_MESSAGE,this._ieVersion=function(){for(var t=3,i=document.createElement("div"),s=i.all||[];i.innerHTML="<!--[if gt IE "+ ++t+"]><br><![endif]-->",s[0];);return t>4?t:document.documentMode}();var e=document.createElement("div");this._changeEvent=9!==this._ieVersion&&"oninput"in e?"input":"keyup",this._submitIfValid=null,this._cacheFields={},this._init()},FormValidation.Base.prototype={constructor:FormValidation.Base,_exceedThreshold:function(t){var i=this._namespace,s=t.attr("data-"+i+"-field"),e=this.options.fields[s].threshold||this.options.threshold;if(!e)return!0;var o=-1!==$.inArray(t.attr("type"),["button","checkbox","file","hidden","image","radio","reset","submit"]);return o||t.val().length>=e},_init:function(){var t=this,i=this._namespace,s={addOns:{},autoFocus:this.$form.attr("data-"+i+"-autofocus"),button:{selector:this.$form.attr("data-"+i+"-button-selector")||this.$form.attr("data-"+i+"-submitbuttons"),disabled:this.$form.attr("data-"+i+"-button-disabled")},control:{valid:this.$form.attr("data-"+i+"-control-valid"),invalid:this.$form.attr("data-"+i+"-control-invalid")},err:{clazz:this.$form.attr("data-"+i+"-err-clazz"),container:this.$form.attr("data-"+i+"-err-container")||this.$form.attr("data-"+i+"-container"),parent:this.$form.attr("data-"+i+"-err-parent")},events:{formInit:this.$form.attr("data-"+i+"-events-form-init"),formPreValidate:this.$form.attr("data-"+i+"-events-form-prevalidate"),formError:this.$form.attr("data-"+i+"-events-form-error"),formSuccess:this.$form.attr("data-"+i+"-events-form-success"),fieldAdded:this.$form.attr("data-"+i+"-events-field-added"),fieldRemoved:this.$form.attr("data-"+i+"-events-field-removed"),fieldInit:this.$form.attr("data-"+i+"-events-field-init"),fieldError:this.$form.attr("data-"+i+"-events-field-error"),fieldSuccess:this.$form.attr("data-"+i+"-events-field-success"),fieldStatus:this.$form.attr("data-"+i+"-events-field-status"),localeChanged:this.$form.attr("data-"+i+"-events-locale-changed"),validatorError:this.$form.attr("data-"+i+"-events-validator-error"),validatorSuccess:this.$form.attr("data-"+i+"-events-validator-success"),validatorIgnored:this.$form.attr("data-"+i+"-events-validator-ignored")},excluded:this.$form.attr("data-"+i+"-excluded"),icon:{valid:this.$form.attr("data-"+i+"-icon-valid")||this.$form.attr("data-"+i+"-feedbackicons-valid"),invalid:this.$form.attr("data-"+i+"-icon-invalid")||this.$form.attr("data-"+i+"-feedbackicons-invalid"),validating:this.$form.attr("data-"+i+"-icon-validating")||this.$form.attr("data-"+i+"-feedbackicons-validating"),feedback:this.$form.attr("data-"+i+"-icon-feedback")},live:this.$form.attr("data-"+i+"-live"),locale:this.$form.attr("data-"+i+"-locale"),message:this.$form.attr("data-"+i+"-message"),onPreValidate:this.$form.attr("data-"+i+"-onprevalidate"),onError:this.$form.attr("data-"+i+"-onerror"),onSuccess:this.$form.attr("data-"+i+"-onsuccess"),row:{selector:this.$form.attr("data-"+i+"-row-selector")||this.$form.attr("data-"+i+"-group"),valid:this.$form.attr("data-"+i+"-row-valid"),invalid:this.$form.attr("data-"+i+"-row-invalid"),feedback:this.$form.attr("data-"+i+"-row-feedback")},threshold:this.$form.attr("data-"+i+"-threshold"),trigger:this.$form.attr("data-"+i+"-trigger"),verbose:this.$form.attr("data-"+i+"-verbose"),fields:{}};this.$form.attr("novalidate","novalidate").addClass(this.options.elementClass).on("submit."+i,function(i){i.preventDefault(),t.validate()}).on("click."+i,this.options.button.selector,function(){t.$submitButton=$(this),t._submitIfValid=!0}),(this.options.declarative===!0||"true"===this.options.declarative)&&this.$form.find("[name], [data-"+i+"-field]").each(function(){var e=$(this),o=e.attr("name")||e.attr("data-"+i+"-field"),a=t._parseOptions(e);a&&(e.attr("data-"+i+"-field",o),s.fields[o]=$.extend({},a,s.fields[o]))}),this.options=$.extend(!0,this.options,s),"string"==typeof this.options.err.parent&&(this.options.err.parent=new RegExp(this.options.err.parent)),this.options.container&&(this.options.err.container=this.options.container,delete this.options.container),this.options.feedbackIcons&&(this.options.icon=$.extend(!0,this.options.icon,this.options.feedbackIcons),delete this.options.feedbackIcons),this.options.group&&(this.options.row.selector=this.options.group,delete this.options.group),this.options.submitButtons&&(this.options.button.selector=this.options.submitButtons,delete this.options.submitButtons),FormValidation.I18n[this.options.locale]||(this.options.locale=$.fn.formValidation.DEFAULT_OPTIONS.locale),(this.options.declarative===!0||"true"===this.options.declarative)&&(this.options=$.extend(!0,this.options,{addOns:this._parseAddOnOptions()})),this.$hiddenButton=$("<button/>").attr("type","submit").prependTo(this.$form).addClass("fv-hidden-submit").css({display:"none",width:0,height:0}),this.$form.on("click."+this._namespace,'[type="submit"]',function(i){if(!i.isDefaultPrevented()){var s=$(i.target),e=s.is('[type="submit"]')?s.eq(0):s.parent('[type="submit"]').eq(0);!t.options.button.selector||e.is(t.options.button.selector)||e.is(t.$hiddenButton)||t.$form.off("submit."+t._namespace).submit()}});for(var e in this.options.fields)this._initField(e);for(var o in this.options.addOns)"function"==typeof FormValidation.AddOn[o].init&&FormValidation.AddOn[o].init(this,this.options.addOns[o]);this.$form.trigger($.Event(this.options.events.formInit),{bv:this,fv:this,options:this.options}),this.options.onPreValidate&&this.$form.on(this.options.events.formPreValidate,function(i){FormValidation.Helper.call(t.options.onPreValidate,[i])}),this.options.onSuccess&&this.$form.on(this.options.events.formSuccess,function(i){FormValidation.Helper.call(t.options.onSuccess,[i])}),this.options.onError&&this.$form.on(this.options.events.formError,function(i){FormValidation.Helper.call(t.options.onError,[i])})},_initField:function(t){var i=this._namespace,s=$([]);switch(typeof t){case"object":s=t,t=t.attr("data-"+i+"-field");break;case"string":s=this.getFieldElements(t),s.attr("data-"+i+"-field",t)}if(0!==s.length&&null!==this.options.fields[t]&&null!==this.options.fields[t].validators){var e=this.options.fields[t].validators,o,a;for(o in e)a=e[o].alias||o,FormValidation.Validator[a]||delete this.options.fields[t].validators[o];null===this.options.fields[t].enabled&&(this.options.fields[t].enabled=!0);for(var n=this,r=s.length,l=s.attr("type"),d=1===r||"radio"===l||"checkbox"===l,h=this._getFieldTrigger(s.eq(0)),f=$.map(h,function(t){return t+".update."+i}).join(" "),c=0;r>c;c++){var p=s.eq(c),u=this.options.fields[t].row||this.options.row.selector,v=p.closest(u),m="function"==typeof(this.options.fields[t].container||this.options.fields[t].err||this.options.err.container)?(this.options.fields[t].container||this.options.fields[t].err||this.options.err.container).call(this,p,this):this.options.fields[t].container||this.options.fields[t].err||this.options.err.container,g=m&&"tooltip"!==m&&"popover"!==m?$(m):this._getMessageContainer(p,u);m&&"tooltip"!==m&&"popover"!==m&&g.addClass(this.options.err.clazz),g.find("."+this.options.err.clazz.split(" ").join(".")+"[data-"+i+"-validator][data-"+i+'-for="'+t+'"]').remove(),v.find("i[data-"+i+'-icon-for="'+t+'"]').remove(),p.off(f).on(f,function(){n.updateStatus($(this),n.STATUS_NOT_VALIDATED)}),p.data(i+".messages",g);for(o in e)p.data(i+".result."+o,this.STATUS_NOT_VALIDATED),d&&c!==r-1||$("<small/>").css("display","none").addClass(this.options.err.clazz).attr("data-"+i+"-validator",o).attr("data-"+i+"-for",t).attr("data-"+i+"-result",this.STATUS_NOT_VALIDATED).html(this._getMessage(t,o)).appendTo(g),a=e[o].alias||o,"function"==typeof FormValidation.Validator[a].init&&FormValidation.Validator[a].init(this,p,this.options.fields[t].validators[o],o);if(this.options.fields[t].icon!==!1&&"false"!==this.options.fields[t].icon&&this.options.icon&&this.options.icon.valid&&this.options.icon.invalid&&this.options.icon.validating&&(!d||c===r-1)){v.addClass(this.options.row.feedback);var b=$("<i/>").css("display","none").addClass(this.options.icon.feedback).attr("data-"+i+"-icon-for",t).insertAfter(p);(d?s:p).data(i+".icon",b),("tooltip"===m||"popover"===m)&&((d?s:p).on(this.options.events.fieldError,function(){v.addClass("fv-has-tooltip")}).on(this.options.events.fieldSuccess,function(){v.removeClass("fv-has-tooltip")}),p.off("focus.container."+i).on("focus.container."+i,function(){n._sguideoltip($(this),m)}).off("blur.container."+i).on("blur.container."+i,function(){n._hideTooltip($(this),m)})),"string"==typeof this.options.fields[t].icon&&"true"!==this.options.fields[t].icon?b.appendTo($(this.options.fields[t].icon)):this._fixIcon(p,b)}}s.on(this.options.events.fieldSuccess,function(t,i){var s=n.getOptions(i.field,null,"onSuccess");s&&FormValidation.Helper.call(s,[t,i])}).on(this.options.events.fieldError,function(t,i){var s=n.getOptions(i.field,null,"onError");s&&FormValidation.Helper.call(s,[t,i])}).on(this.options.events.fieldStatus,function(t,i){var s=n.getOptions(i.field,null,"onStatus");s&&FormValidation.Helper.call(s,[t,i])}).on(this.options.events.validatorError,function(t,i){var s=n.getOptions(i.field,i.validator,"onError");s&&FormValidation.Helper.call(s,[t,i])}).on(this.options.events.validatorIgnored,function(t,i){var s=n.getOptions(i.field,i.validator,"onIgnored");s&&FormValidation.Helper.call(s,[t,i])}).on(this.options.events.validatorSuccess,function(t,i){var s=n.getOptions(i.field,i.validator,"onSuccess");s&&FormValidation.Helper.call(s,[t,i])}),this.onLiveChange(s,"live",function(){n._exceedThreshold($(this))&&n.validateField($(this))}),s.trigger($.Event(this.options.events.fieldInit),{bv:this,fv:this,field:t,element:s})}},_isExcluded:function(t){var i=this._namespace,s=t.attr("data-"+i+"-excluded"),e=t.attr("data-"+i+"-field")||t.attr("name");switch(!0){case!!e&&this.options.fields&&this.options.fields[e]&&("true"===this.options.fields[e].excluded||this.options.fields[e].excluded===!0):case"true"===s:case""===s:return!0;case!!e&&this.options.fields&&this.options.fields[e]&&("false"===this.options.fields[e].excluded||this.options.fields[e].excluded===!1):case"false"===s:return!1;case!!e&&this.options.fields&&this.options.fields[e]&&"function"==typeof this.options.fields[e].excluded:return this.options.fields[e].excluded.call(this,t,this);case!!e&&this.options.fields&&this.options.fields[e]&&"string"==typeof this.options.fields[e].excluded:case s:return FormValidation.Helper.call(this.options.fields[e].excluded,[t,this]);default:if(this.options.excluded){"string"==typeof this.options.excluded&&(this.options.excluded=$.map(this.options.excluded.split(","),function(t){return $.trim(t)}));for(var o=this.options.excluded.length,a=0;o>a;a++)if("string"==typeof this.options.excluded[a]&&t.is(this.options.excluded[a])||"function"==typeof this.options.excluded[a]&&this.options.excluded[a].call(this,t,this)===!0)return!0}return!1}},_getFieldTrigger:function(t){var i=this._namespace,s=t.data(i+".trigger");if(s)return s;var e=t.attr("type"),o=t.attr("data-"+i+"-field"),a="radio"===e||"checkbox"===e||"file"===e||"SELECT"===t.get(0).tagName?"change":this._ieVersion>=10&&t.attr("placeholder")?"keyup":this._changeEvent;return s=((this.options.fields[o]?this.options.fields[o].trigger:null)||this.options.trigger||a).split(" "),t.data(i+".trigger",s),s},_getMessage:function(t,i){if(!this.options.fields[t]||!this.options.fields[t].validators)return"";var s=this.options.fields[t].validators,e=s[i]&&s[i].alias?s[i].alias:i;if(!FormValidation.Validator[e])return"";switch(!0){case!!s[i].message:return s[i].message;case!!this.options.fields[t].message:return this.options.fields[t].message;case!!this.options.message:return this.options.message;case!!FormValidation.I18n[this.options.locale]&&!!FormValidation.I18n[this.options.locale][e]&&!!FormValidation.I18n[this.options.locale][e]["default"]:return FormValidation.I18n[this.options.locale][e]["default"];default:return this.DEFAULT_MESSAGE}},_getMessageContainer:function(t,i){if(!this.options.err.parent)throw new Error("The err.parent option is not defined");var s=t.parent();if(s.is(i))return s;var e=s.attr("class");return e&&this.options.err.parent.test(e)?s:this._getMessageContainer(s,i)},_parseAddOnOptions:function(){var t=this._namespace,i=this.$form.attr("data-"+t+"-addons"),s=this.options.addOns||{};if(i){i=i.replace(/\s/g,"").split(",");for(var e=0;e<i.length;e++)s[i[e]]||(s[i[e]]={})}var o,a,n,r;for(o in s)if(FormValidation.AddOn[o]){if(a=FormValidation.AddOn[o].html5Attributes)for(n in a)r=this.$form.attr("data-"+t+"-addons-"+o.toLowerCase()+"-"+n.toLowerCase()),r&&(s[o][a[n]]=r)}else delete s[o];return s},_parseOptions:function(t){var i=this._namespace,s=t.attr("name")||t.attr("data-"+i+"-field"),e={},o=new RegExp("^data-"+i+"-([a-z]+)-alias$"),a=$.extend({},FormValidation.Validator),n,r,l,d,h,f,c,p,u;$.each(t.get(0).attributes,function(t,i){i.value&&o.test(i.name)&&(r=i.name.split("-")[2],a[i.value]&&(a[r]=a[i.value],a[r].alias=i.value))});for(r in a)if(n=a[r],l="data-"+i+"-"+r.toLowerCase(),d=t.attr(l)+"",u="function"==typeof n.enableByHtml5?n.enableByHtml5(t):null,u&&"false"!==d||u!==!0&&(""===d||"true"===d||l===d.toLowerCase())){n.html5Attributes=$.extend({},{message:"message",onerror:"onError",onsuccess:"onSuccess",transformer:"transformer"},n.html5Attributes),e[r]=$.extend({},u===!0?{}:u,e[r]),n.alias&&(e[r].alias=n.alias);for(p in n.html5Attributes)h=n.html5Attributes[p],f="data-"+i+"-"+r.toLowerCase()+"-"+p,c=t.attr(f),c&&("true"===c||f===c.toLowerCase()?c=!0:"false"===c&&(c=!1),e[r][h]=c)}var v={autoFocus:t.attr("data-"+i+"-autofocus"),err:t.attr("data-"+i+"-err-container")||t.attr("data-"+i+"-container"),enabled:t.attr("data-"+i+"-enabled"),excluded:t.attr("data-"+i+"-excluded"),icon:t.attr("data-"+i+"-icon")||t.attr("data-"+i+"-feedbackicons")||(this.options.fields&&this.options.fields[s]?this.options.fields[s].feedbackIcons:null),message:t.attr("data-"+i+"-message"),onError:t.attr("data-"+i+"-onerror"),onStatus:t.attr("data-"+i+"-onstatus"),onSuccess:t.attr("data-"+i+"-onsuccess"),row:t.attr("data-"+i+"-row")||t.attr("data-"+i+"-group")||(this.options.fields&&this.options.fields[s]?this.options.fields[s].group:null),selector:t.attr("data-"+i+"-selector"),threshold:t.attr("data-"+i+"-threshold"),transformer:t.attr("data-"+i+"-transformer"),trigger:t.attr("data-"+i+"-trigger"),verbose:t.attr("data-"+i+"-verbose"),validators:e},m=$.isEmptyObject(v),g=$.isEmptyObject(e);return!g||!m&&this.options.fields&&this.options.fields[s]?v:null},_submit:function(){var t=this.isValid();if(null!==t){var i=t?this.options.events.formSuccess:this.options.events.formError,s=$.Event(i);this.$form.trigger(s),this.$submitButton&&(t?this._onSuccess(s):this._onError(s))}},_onError:function(t){if(!t.isDefaultPrevented()){if("submitted"===this.options.live){this.options.live="enabled";var i=this;for(var s in this.options.fields)!function(t){var s=i.getFieldElements(t);s.length&&i.onLiveChange(s,"live",function(){i._exceedThreshold($(this))&&i.validateField($(this))})}(s)}for(var e=this._namespace,o=0;o<this.$invalidFields.length;o++){var a=this.$invalidFields.eq(o),n=this.isOptionEnabled(a.attr("data-"+e+"-field"),"autoFocus");if(n){a.focus();break}}}},_onFieldValidated:function(t,i){var s=this._namespace,e=t.attr("data-"+s+"-field"),o=this.options.fields[e].validators,a={},n=0,r={bv:this,fv:this,field:e,element:t,validator:i,result:t.data(s+".response."+i)};if(i)switch(t.data(s+".result."+i)){case this.STATUS_INVALID:t.trigger($.Event(this.options.events.validatorError),r);break;case this.STATUS_VALID:t.trigger($.Event(this.options.events.validatorSuccess),r);break;case this.STATUS_IGNORED:t.trigger($.Event(this.options.events.validatorIgnored),r)}a[this.STATUS_NOT_VALIDATED]=0,a[this.STATUS_VALIDATING]=0,a[this.STATUS_INVALID]=0,a[this.STATUS_VALID]=0,a[this.STATUS_IGNORED]=0;for(var l in o)if(o[l].enabled!==!1){n++;var d=t.data(s+".result."+l);d&&a[d]++}a[this.STATUS_VALID]+a[this.STATUS_IGNORED]===n?(this.$invalidFields=this.$invalidFields.not(t),t.trigger($.Event(this.options.events.fieldSuccess),r)):(0===a[this.STATUS_NOT_VALIDATED]||!this.isOptionEnabled(e,"verbose"))&&0===a[this.STATUS_VALIDATING]&&a[this.STATUS_INVALID]>0&&(this.$invalidFields=this.$invalidFields.add(t),t.trigger($.Event(this.options.events.fieldError),r))},_onSuccess:function(t){t.isDefaultPrevented()||this.disableSubmitButtons(!0).defaultSubmit()},_fixIcon:function(t,i){},_createTooltip:function(t,i,s){},_destroyTooltip:function(t,i){},_hideTooltip:function(t,i){},_sguideoltip:function(t,i){},defaultSubmit:function(){var t=this._namespace;this.$submitButton&&$("<input/>").attr({type:"hidden",name:this.$submitButton.attr("name")}).attr("data-"+t+"-submit-hidden","").val(this.$submitButton.val()).appendTo(this.$form),this.$form.off("submit."+t).submit()},disableSubmitButtons:function(t){return t?"disabled"!==this.options.live&&this.$form.find(this.options.button.selector).attr("disabled","disabled").addClass(this.options.button.disabled):this.$form.find(this.options.button.selector).removeAttr("disabled").removeClass(this.options.button.disabled),this},getFieldElements:function(t){if(!this._cacheFields[t])if(this.options.fields[t]&&this.options.fields[t].selector){var i=this.$form.find(this.options.fields[t].selector);this._cacheFields[t]=i.length?i:$(this.options.fields[t].selector)}else this._cacheFields[t]=this.$form.find('[name="'+t+'"]');return this._cacheFields[t]},getFieldValue:function(t,i){var s,e=this._namespace;if("string"==typeof t){if(s=this.getFieldElements(t),0===s.length)return null}else s=t,t=s.attr("data-"+e+"-field");if(!t||!this.options.fields[t])return s.val();var o=(this.options.fields[t].validators&&this.options.fields[t].validators[i]?this.options.fields[t].validators[i].transformer:null)||this.options.fields[t].transformer;return o?FormValidation.Helper.call(o,[s,i,this]):s.val()},getNamespace:function(){return this._namespace},getOptions:function(t,i,s){var e=this._namespace;if(!t)return s?this.options[s]:this.options;if("object"==typeof t&&(t=t.attr("data-"+e+"-field")),!this.options.fields[t])return null;var o=this.options.fields[t];return i?o.validators&&o.validators[i]?s?o.validators[i][s]:o.validators[i]:null:s?o[s]:o},getStatus:function(t,i){var s=this._namespace;switch(typeof t){case"object":return t.data(s+".result."+i);case"string":default:return this.getFieldElements(t).eq(0).data(s+".result."+i)}},isOptionEnabled:function(t,i){return!this.options.fields[t]||"true"!==this.options.fields[t][i]&&this.options.fields[t][i]!==!0?!this.options.fields[t]||"false"!==this.options.fields[t][i]&&this.options.fields[t][i]!==!1?"true"===this.options[i]||this.options[i]===!0:!1:!0},isValid:function(){for(var t in this.options.fields){var i=this.isValidField(t);if(null===i)return null;if(i===!1)return!1}return!0},isValidContainer:function(t){var i=this,s=this._namespace,e=[],o="string"==typeof t?$(t):t;if(0===o.length)return!0;o.find("[data-"+s+"-field]").each(function(){var t=$(this);i._isExcluded(t)||e.push(t)});for(var a=e.length,n=0;a>n;n++){var r=e[n],l=r.attr("data-"+s+"-field"),d=r.data(s+".messages").find("."+this.options.err.clazz.split(" ").join(".")+"[data-"+s+"-validator][data-"+s+'-for="'+l+'"]');if(!this.options.fields||!this.options.fields[l]||"false"!==this.options.fields[l].enabled&&this.options.fields[l].enabled!==!1){if(d.filter("[data-"+s+'-result="'+this.STATUS_INVALID+'"]').length>0)return!1;if(d.filter("[data-"+s+'-result="'+this.STATUS_NOT_VALIDATED+'"]').length>0||d.filter("[data-"+s+'-result="'+this.STATUS_VALIDATING+'"]').length>0)return null}}return!0},isValidField:function(t){var i=this._namespace,s=$([]);switch(typeof t){case"object":s=t,t=t.attr("data-"+i+"-field");break;case"string":s=this.getFieldElements(t)}if(0===s.length||!this.options.fields[t]||"false"===this.options.fields[t].enabled||this.options.fields[t].enabled===!1)return!0;for(var e=s.attr("type"),o="radio"===e||"checkbox"===e?1:s.length,a,n,r,l=0;o>l;l++)if(a=s.eq(l),!this._isExcluded(a))for(n in this.options.fields[t].validators)if(this.options.fields[t].validators[n].enabled!==!1){if(r=a.data(i+".result."+n),r===this.STATUS_VALIDATING||r===this.STATUS_NOT_VALIDATED)return null;if(r===this.STATUS_INVALID)return!1}return!0},offLiveChange:function(t,i){if(null===t||0===t.length)return this;var s=this._namespace,e=this._getFieldTrigger(t.eq(0)),o=$.map(e,function(t){return t+"."+i+"."+s}).join(" ");return t.off(o),this},onLiveChange:function(t,i,s){if(null===t||0===t.length)return this;var e=this._namespace,o=this._getFieldTrigger(t.eq(0)),a=$.map(o,function(t){return t+"."+i+"."+e}).join(" ");switch(this.options.live){case"submitted":break;case"disabled":t.off(a);break;case"enabled":default:t.off(a).on(a,function(t){s.apply(this,arguments)})}return this},updateMessage:function(t,i,s){var e=this,o=this._namespace,a=$([]);switch(typeof t){case"object":a=t,t=t.attr("data-"+o+"-field");break;case"string":a=this.getFieldElements(t)}return a.each(function(){$(this).data(o+".messages").find("."+e.options.err.clazz+"[data-"+o+'-validator="'+i+'"][data-'+o+'-for="'+t+'"]').html(s)}),this},updateStatus:function(t,i,s){var e=this._namespace,o=$([]);switch(typeof t){case"object":o=t,t=t.attr("data-"+e+"-field");break;case"string":o=this.getFieldElements(t)}if(!t||!this.options.fields[t])return this;i===this.STATUS_NOT_VALIDATED&&(this._submitIfValid=!1);for(var a=this,n=o.attr("type"),r=this.options.fields[t].row||this.options.row.selector,l="radio"===n||"checkbox"===n?1:o.length,d=0;l>d;d++){var h=o.eq(d);if(!this._isExcluded(h)){var f=h.closest(r),c=h.data(e+".messages"),p=c.find("."+this.options.err.clazz.split(" ").join(".")+"[data-"+e+"-validator][data-"+e+'-for="'+t+'"]'),u=s?p.filter("[data-"+e+'-validator="'+s+'"]'):p,v=h.data(e+".icon"),m="function"==typeof(this.options.fields[t].container||this.options.fields[t].err||this.options.err.container)?(this.options.fields[t].container||this.options.fields[t].err||this.options.err.container).call(this,h,this):this.options.fields[t].container||this.options.fields[t].err||this.options.err.container,g=null,b,T;if(s)h.data(e+".result."+s,i);else for(var S in this.options.fields[t].validators)h.data(e+".result."+S,i);switch(u.attr("data-"+e+"-result",i),i){case this.STATUS_VALIDATING:g=null,this.disableSubmitButtons(!0),h.removeClass(this.options.control.valid).removeClass(this.options.control.invalid),f.removeClass(this.options.row.valid).removeClass(this.options.row.invalid),v&&v.removeClass(this.options.icon.valid).removeClass(this.options.icon.invalid).addClass(this.options.icon.validating).show();break;case this.STATUS_INVALID:g=!1,this.disableSubmitButtons(!0),h.removeClass(this.options.control.valid).addClass(this.options.control.invalid),f.removeClass(this.options.row.valid).addClass(this.options.row.invalid),v&&v.removeClass(this.options.icon.valid).removeClass(this.options.icon.validating).addClass(this.options.icon.invalid).show();break;case this.STATUS_IGNORED:case this.STATUS_VALID:b=p.filter("[data-"+e+'-result="'+this.STATUS_VALIDATING+'"]').length>0,T=p.filter("[data-"+e+'-result="'+this.STATUS_NOT_VALIDATED+'"]').length>0;var _=p.filter("[data-"+e+'-result="'+this.STATUS_IGNORED+'"]').length;g=b||T?null:p.filter("[data-"+e+'-result="'+this.STATUS_VALID+'"]').length+_===p.length,h.removeClass(this.options.control.valid).removeClass(this.options.control.invalid),g===!0?(this.disableSubmitButtons(this.isValid()===!1),i===this.STATUS_VALID&&h.addClass(this.options.control.valid)):g===!1&&(this.disableSubmitButtons(!0),i===this.STATUS_VALID&&h.addClass(this.options.control.invalid)),v&&(v.removeClass(this.options.icon.invalid).removeClass(this.options.icon.validating).removeClass(this.options.icon.valid),(i===this.STATUS_VALID||_!==p.length)&&v.addClass(b?this.options.icon.validating:null===g?"":g?this.options.icon.valid:this.options.icon.invalid).show());var A=this.isValidContainer(f);null!==A&&(f.removeClass(this.options.row.valid).removeClass(this.options.row.invalid),(i===this.STATUS_VALID||_!==p.length)&&f.addClass(A?this.options.row.valid:this.options.row.invalid));break;case this.STATUS_NOT_VALIDATED:default:g=null,this.disableSubmitButtons(!1),h.removeClass(this.options.control.valid).removeClass(this.options.control.invalid),f.removeClass(this.options.row.valid).removeClass(this.options.row.invalid),v&&v.removeClass(this.options.icon.valid).removeClass(this.options.icon.invalid).removeClass(this.options.icon.validating).hide()}!v||"tooltip"!==m&&"popover"!==m?i===this.STATUS_INVALID?u.show():u.hide():g===!1?this._createTooltip(h,p.filter("[data-"+e+'-result="'+a.STATUS_INVALID+'"]').eq(0).html(),m):this._destroyTooltip(h,m),h.trigger($.Event(this.options.events.fieldStatus),{bv:this,fv:this,field:t,element:h,status:i}),this._onFieldValidated(h,s)}}return this},validate:function(){if($.isEmptyObject(this.options.fields))return this._submit(),this;this.$form.trigger($.Event(this.options.events.formPreValidate)),this.disableSubmitButtons(!0),this._submitIfValid=!1;for(var t in this.options.fields)this.validateField(t);return this._submit(),this._submitIfValid=!0,this},validateField:function(t){var i=this._namespace,s=$([]);switch(typeof t){case"object":s=t,t=t.attr("data-"+i+"-field");break;case"string":s=this.getFieldElements(t)}if(0===s.length||!this.options.fields[t]||"false"===this.options.fields[t].enabled||this.options.fields[t].enabled===!1)return this;for(var e=this,o=s.attr("type"),a="radio"===o||"checkbox"===o?1:s.length,n="radio"===o||"checkbox"===o,r=this.options.fields[t].validators,l=this.isOptionEnabled(t,"verbose"),d,h,f,c=0;a>c;c++){var p=s.eq(c);if(!this._isExcluded(p)){var u=!1;for(d in r){if(p.data(i+".dfs."+d)&&p.data(i+".dfs."+d).reject(),u)break;var v=p.data(i+".result."+d);if(v!==this.STATUS_VALID&&v!==this.STATUS_INVALID)if(r[d].enabled!==!1)if(p.data(i+".result."+d,this.STATUS_VALIDATING),h=r[d].alias||d,f=FormValidation.Validator[h].validate(this,p,r[d],d),"object"==typeof f&&f.resolve)this.updateStatus(n?t:p,this.STATUS_VALIDATING,d),p.data(i+".dfs."+d,f),f.done(function(t,s,o){t.removeData(i+".dfs."+s).data(i+".response."+s,o),o.message&&e.updateMessage(t,s,o.message),e.updateStatus(n?t.attr("data-"+i+"-field"):t,o.valid===!0?e.STATUS_VALID:o.valid===!1?e.STATUS_INVALID:e.STATUS_IGNORED,s),o.valid&&e._submitIfValid===!0?e._submit():o.valid!==!1||l||(u=!0)});else if("object"==typeof f&&void 0!==f.valid){if(p.data(i+".response."+d,f),f.message&&this.updateMessage(n?t:p,d,f.message),this.updateStatus(n?t:p,f.valid===!0?this.STATUS_VALID:f.valid===!1?this.STATUS_INVALID:this.STATUS_IGNORED,d),f.valid===!1&&!l)break}else if("boolean"==typeof f){if(p.data(i+".response."+d,f),this.updateStatus(n?t:p,f?this.STATUS_VALID:this.STATUS_INVALID,d),!f&&!l)break}else null===f&&(p.data(i+".response."+d,f),this.updateStatus(n?t:p,this.STATUS_IGNORED,d));else this.updateStatus(n?t:p,this.STATUS_IGNORED,d);else this._onFieldValidated(p,d)}}}return this},addField:function(t,i){var s=this._namespace,e=$([]);switch(typeof t){case"object":e=t,t=t.attr("data-"+s+"-field")||t.attr("name");break;case"string":delete this._cacheFields[t],e=this.getFieldElements(t)}e.attr("data-"+s+"-field",t);for(var o=e.attr("type"),a="radio"===o||"checkbox"===o?1:e.length,n=0;a>n;n++){var r=e.eq(n),l=this._parseOptions(r);l=null===l?i:$.extend(!0,l,i),this.options.fields[t]=$.extend(!0,this.options.fields[t],l),this._cacheFields[t]=this._cacheFields[t]?this._cacheFields[t].add(r):r,this._initField("checkbox"===o||"radio"===o?t:r)}return this.disableSubmitButtons(!1),this.$form.trigger($.Event(this.options.events.fieldAdded),{field:t,element:e,options:this.options.fields[t]}),this},destroy:function(){var t=this._namespace,i,s,e,o,a,n,r,l;for(s in this.options.fields)for(e=this.getFieldElements(s),i=0;i<e.length;i++){o=e.eq(i);for(a in this.options.fields[s].validators)o.data(t+".dfs."+a)&&o.data(t+".dfs."+a).reject(),o.removeData(t+".result."+a).removeData(t+".response."+a).removeData(t+".dfs."+a),l=this.options.fields[s].validators[a].alias||a,"function"==typeof FormValidation.Validator[l].destroy&&FormValidation.Validator[l].destroy(this,o,this.options.fields[s].validators[a],a)}for(s in this.options.fields)for(e=this.getFieldElements(s),r=this.options.fields[s].row||this.options.row.selector,i=0;i<e.length;i++){o=e.eq(i),o.data(t+".messages").find("."+this.options.err.clazz.split(" ").join(".")+"[data-"+t+"-validator][data-"+t+'-for="'+s+'"]').remove().end().end().removeData(t+".messages").closest(r).removeClass(this.options.row.valid).removeClass(this.options.row.invalid).removeClass(this.options.row.feedback).end().off("."+t).removeAttr("data-"+t+"-field");var d="function"==typeof(this.options.fields[s].container||this.options.fields[s].err||this.options.err.container)?(this.options.fields[s].container||this.options.fields[s].err||this.options.err.container).call(this,o,this):this.options.fields[s].container||this.options.fields[s].err||this.options.err.container;("tooltip"===d||"popover"===d)&&this._destroyTooltip(o,d),n=o.data(t+".icon"),n&&n.remove(),o.removeData(t+".icon").removeData(t+".trigger")}for(var h in this.options.addOns)"function"==typeof FormValidation.AddOn[h].destroy&&FormValidation.AddOn[h].destroy(this,this.options.addOns[h]);this.disableSubmitButtons(!1),this.$hiddenButton.remove(),this.$form.removeClass(this.options.elementClass).off("."+t).removeData("bootstrapValidator").removeData("formValidation").find("[data-"+t+"-submit-hidden]").remove().end().find('[type="submit"]').off("click."+t)},enableFieldValidators:function(t,i,s){var e=this.options.fields[t].validators;if(s&&e&&e[s]&&e[s].enabled!==i)this.options.fields[t].validators[s].enabled=i,this.updateStatus(t,this.STATUS_NOT_VALIDATED,s);else if(!s&&this.options.fields[t].enabled!==i){this.options.fields[t].enabled=i;for(var o in e)this.enableFieldValidators(t,i,o)}return this},getDynamicOption:function(t,i){var s="string"==typeof t?this.getFieldElements(t):t,e=s.val();if("function"==typeof i)return FormValidation.Helper.call(i,[e,this,s]);if("string"==typeof i){var o=this.getFieldElements(i);return o.length?o.val():FormValidation.Helper.call(i,[e,this,s])||i}return null},getForm:function(){return this.$form},getInvalidFields:function(){return this.$invalidFields},getLocale:function(){return this.options.locale},getMessages:function(t,i){var s=this,e=this._namespace,o=[],a=$([]);switch(!0){case t&&"object"==typeof t:a=t;break;case t&&"string"==typeof t:var n=this.getFieldElements(t);if(n.length>0){var r=n.attr("type");a="radio"===r||"checkbox"===r?n.eq(0):n}break;default:a=this.$invalidFields}var l=i?"[data-"+e+'-validator="'+i+'"]':"";return a.each(function(){o=o.concat($(this).data(e+".messages").find("."+s.options.err.clazz+"[data-"+e+'-for="'+$(this).attr("data-"+e+"-field")+'"][data-'+e+'-result="'+s.STATUS_INVALID+'"]'+l).map(function(){var t=$(this).attr("data-"+e+"-validator"),i=$(this).attr("data-"+e+"-for");return s.options.fields[i].validators[t].enabled===!1?"":$(this).html()}).get())}),o},getSubmitButton:function(){return this.$submitButton},removeField:function(t){var i=this._namespace,s=$([]);switch(typeof t){
case"object":s=t,t=t.attr("data-"+i+"-field")||t.attr("name"),s.attr("data-"+i+"-field",t);break;case"string":s=this.getFieldElements(t)}if(0===s.length)return this;for(var e=s.attr("type"),o="radio"===e||"checkbox"===e?1:s.length,a=0;o>a;a++){var n=s.eq(a);this.$invalidFields=this.$invalidFields.not(n),this._cacheFields[t]=this._cacheFields[t].not(n)}return this._cacheFields[t]&&0!==this._cacheFields[t].length||delete this.options.fields[t],("checkbox"===e||"radio"===e)&&this._initField(t),this.disableSubmitButtons(!1),this.$form.trigger($.Event(this.options.events.fieldRemoved),{field:t,element:s}),this},resetField:function(t,i){var s=this._namespace,e=$([]);switch(typeof t){case"object":e=t,t=t.attr("data-"+s+"-field");break;case"string":e=this.getFieldElements(t)}var o=e.length;if(this.options.fields[t])for(var a=0;o>a;a++)for(var n in this.options.fields[t].validators)e.eq(a).removeData(s+".dfs."+n);if(i){var r=e.attr("type");"radio"===r||"checkbox"===r?e.prop("checked",!1).removeAttr("selected"):e.val("")}return this.updateStatus(t,this.STATUS_NOT_VALIDATED),this},resetForm:function(t){for(var i in this.options.fields)this.resetField(i,t);return this.$invalidFields=$([]),this.$submitButton=null,this.disableSubmitButtons(!1),this},revalidateField:function(t){return this.updateStatus(t,this.STATUS_NOT_VALIDATED).validateField(t),this},setLocale:function(t){return this.options.locale=t,this.$form.trigger($.Event(this.options.events.localeChanged),{locale:t,bv:this,fv:this}),this},updateOption:function(t,i,s,e){var o=this._namespace;return"object"==typeof t&&(t=t.attr("data-"+o+"-field")),this.options.fields[t]&&this.options.fields[t].validators[i]&&(this.options.fields[t].validators[i][s]=e,this.updateStatus(t,this.STATUS_NOT_VALIDATED,i)),this},validateContainer:function(t){var i=this,s=this._namespace,e=[],o="string"==typeof t?$(t):t;if(0===o.length)return this;o.find("[data-"+s+"-field]").each(function(){var t=$(this);i._isExcluded(t)||e.push(t)});for(var a=e.length,n=0;a>n;n++)this.validateField(e[n]);return this}},$.fn.formValidation=function(t){var i=arguments;return this.each(function(){var s=$(this),e=s.data("formValidation"),o="object"==typeof t&&t;if(!e){var a=(o.framework||s.attr("data-fv-framework")||"bootstrap").toLowerCase(),n=a.substr(0,1).toUpperCase()+a.substr(1);if("undefined"==typeof FormValidation.Framework[n])throw new Error("The class FormValidation.Framework."+n+" is not implemented");e=new FormValidation.Framework[n](this,o),s.addClass("fv-form-"+a).data("formValidation",e)}"string"==typeof t&&e[t].apply(e,Array.prototype.slice.call(i,1))})},$.fn.formValidation.Constructor=FormValidation.Base,$.fn.formValidation.DEFAULT_MESSAGE="This value is not valid",$.fn.formValidation.DEFAULT_OPTIONS={autoFocus:!0,declarative:!0,elementClass:"fv-form",events:{formInit:"init.form.fv",formPreValidate:"prevalidate.form.fv",formError:"err.form.fv",formSuccess:"success.form.fv",fieldAdded:"added.field.fv",fieldRemoved:"removed.field.fv",fieldInit:"init.field.fv",fieldError:"err.field.fv",fieldSuccess:"success.field.fv",fieldStatus:"status.field.fv",localeChanged:"changed.locale.fv",validatorError:"err.validator.fv",validatorSuccess:"success.validator.fv",validatorIgnored:"ignored.validator.fv"},excluded:[":disabled",":hidden",":not(:visible)"],fields:null,live:"enabled",locale:"en_US",message:null,threshold:null,verbose:!0,button:{selector:'[type="submit"]:not([formnovalidate])',disabled:""},control:{valid:"",invalid:""},err:{clazz:"",container:null,parent:null},icon:{valid:null,invalid:null,validating:null,feedback:""},row:{selector:null,valid:"",invalid:"",feedback:""}}}(jQuery);